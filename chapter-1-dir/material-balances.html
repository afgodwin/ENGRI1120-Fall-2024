
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Material Balances &#8212; ENGRI 1120</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Energy Balances" href="energy-balances.html" />
    <link rel="prev" title="Systems, Surroundings and Balance Equations" href="stuff-balances.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/cornell_seal_simple_black.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">ENGRI 1120</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    ENGRI 1120 Introduction to Chemical and Biomolecular Engineering
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../course.html">
   Objectives, Polices and Resources
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../julia-dir/julia-landing.html">
   Getting Started with Julia
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../julia-dir/julia-installation.html">
     Julia Installation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../julia-dir/julia-basics.html">
     Introduction to Julia Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../julia-dir/julia-data.html">
     Working with Data in Julia
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="unit-1-introduction.html">
   Unit 1 Balances
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="stuff-balances.html">
     Systems, Surroundings and Balance Equations
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Material Balances
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="energy-balances.html">
     Energy Balances
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="money-balances.html">
     Financial Balances
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../chapter-2-dir/chapter-2-intro.html">
   Unit 2 Phases
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../chapter-2-dir/single-component-phase-eq.html">
     Single and Multiple Component Phase Eqilibrium
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../chapter-2-dir/lle.html">
     Applications of Liquid Liquid Phase Equilibrium
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../chapter-2-dir/vle.html">
     Applications of Vapor Liquid Phase Eqilibrium
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../chapter-3-dir/chapter-3-intro.html">
   Unit 3 Reactions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../chapter-3-dir/chemical-equilibrium.html">
     Chemical Reaction Equilibrium (CRE)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../chapter-3-dir/chemical-kinetics.html">
     Plug Flow Reactors (PFR)
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../chapter-4-dir/reactors.html">
   Unit 4 Design
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../chapter-4-dir/cstr-material-balances.html">
     Continuous stirred tank reactors (CSTR)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../chapter-4-dir/pfr-material-balances.html">
     Plug Flow Reactors (PFR)
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/executablebooks/jupyter-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fchapter-1-dir/material-balances.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/chapter-1-dir/material-balances.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#open-species-and-total-mass-balance-equations">
   Open Species and Total Mass Balance Equations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-species-mass-balances">
     Open species mass balances
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-total-mass-balances">
     Open total mass balances
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#open-species-and-total-mole-balance-equations">
   Open Species and Total Mole Balance Equations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-species-mole-balances">
     Open species mole balances
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-total-mole-balances">
     Open total mole balances
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Material Balances</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#open-species-and-total-mass-balance-equations">
   Open Species and Total Mass Balance Equations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-species-mass-balances">
     Open species mass balances
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-total-mass-balances">
     Open total mass balances
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#open-species-and-total-mole-balance-equations">
   Open Species and Total Mole Balance Equations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-species-mole-balances">
     Open species mole balances
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-total-mole-balances">
     Open total mole balances
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="material-balances">
<h1>Material Balances<a class="headerlink" href="#material-balances" title="Permalink to this headline">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p>Suppose we have a process producing a critical component in a next-generation battery, a biofuel, or an mRNA vaccine. To model this process, we break it into two pieces, a system (where the chemistry or physical change is occurring) and its surroundings (system and surroundings are called the universe). Previously, we introdcued the idea of a <em>stuff balance</em>; equations that can be used to track the amount of <em>stuff</em> in a system. But what is <em>stuff</em>?</p>
<p>To exlore this question, let’s expand upon our previous discussion of stuff balances, and consider a particular type of stuff, namely the mass and moles of chemical compounds.
For example, the mass (or number of moles) of active mRNA being produced by a system.
Mass (or moles) are types of <em>material balances</em>, they allow us to track the amount of <em>material</em> in a system as time evolves.</p>
<p>In this lecture:</p>
<ul class="simple">
<li><p>We will introduce <a class="reference internal" href="#content-references-open-species-mass-balances"><span class="std std-ref">Open Species and Total Mass Balance Equations</span></a></p></li>
<li><p>We will introduce <a class="reference internal" href="#content-references-open-species-mole-balances"><span class="std std-ref">Open Species and Total Mole Balance Equations</span></a></p></li>
</ul>
<hr class="docutils" />
<!-- Balance equations have their roots in physical conservation principles, such as the conservation of 
mass, momentum, energy, and number are at the center of Chemical Engineering.   -->
<!-- 
![fishy](./figs/Continuous.pdf) -->
</section>
<section id="open-species-and-total-mass-balance-equations">
<span id="content-references-open-species-mass-balances"></span><h2>Open Species and Total Mass Balance Equations<a class="headerlink" href="#open-species-and-total-mass-balance-equations" title="Permalink to this headline">#</a></h2>
<p>Suppose we interested in tracking the mass of each chemical component in a mixture of <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> components for a chemical reaction process e.g., the starting material, the final product and perhaps some by-products flowing into and from a chemical reactor unit.</p>
<section id="open-species-mass-balances">
<h3>Open species mass balances<a class="headerlink" href="#open-species-mass-balances" title="Permalink to this headline">#</a></h3>
<p>If we are interested in the amount of each chemical species, we can let <em>stuff</em> equal the mass of each of the chemical components; this choice gives the <em>open species mass balance</em> (<a class="reference internal" href="#defn-open-species-mass-balance">Definition 4</a>):</p>
<div class="proof definition admonition" id="defn-open-species-mass-balance">
<p class="admonition-title"><span class="caption-number">Definition 4 </span> (Open Species Mass Balance)</p>
<section class="definition-content" id="proof-content">
<p>Let <span class="math notranslate nohighlight">\(m_{i}\)</span> denote the mass of chemical component <span class="math notranslate nohighlight">\(i\)</span> in the system (units: mass e.g., grams g).
Further, denote the number of chemical components in the system we want to track as <span class="math notranslate nohighlight">\(\mathcal{M}\)</span>, and the set of
streams flowing into (or from) the system as <span class="math notranslate nohighlight">\(\mathcal{S}\)</span>, where each stream
<span class="math notranslate nohighlight">\(s\in\mathcal{S}\)</span> has a direction parameter <span class="math notranslate nohighlight">\(\nu_{s}\in\left[-1,1\right]\)</span>.</p>
<p>If stream <span class="math notranslate nohighlight">\(s\)</span> <em>enters</em> the system <span class="math notranslate nohighlight">\(\nu_{s} = +1\)</span>, however is stream <span class="math notranslate nohighlight">\(s\)</span> <em>exits</em> the system then <span class="math notranslate nohighlight">\(\nu_{s} = -1\)</span>.</p>
<p>Then, the mass of chemical component <span class="math notranslate nohighlight">\(i\)</span> in the system as a function of time (units: g) is described by an <em>open species mass balance equation</em>:</p>
<div class="math notranslate nohighlight">
\[\sum_{s\in\mathcal{S}}\nu_{s}\dot{m}_{s,i} + \dot{m}_{G,i} = \frac{dm_{i}}{dt}
\qquad{i=1,2,\dots,\mathcal{M}}\]</div>
<p>The quantity <span class="math notranslate nohighlight">\(\dot{m}_{s,i}\)</span> denotes the mass flow rate of component <span class="math notranslate nohighlight">\(i\)</span> in stream <span class="math notranslate nohighlight">\(s\)</span> (units: g <span class="math notranslate nohighlight">\(i\)</span>/time),
<span class="math notranslate nohighlight">\(\dot{m}_{G,i}\)</span> denote the rate of generation of component <span class="math notranslate nohighlight">\(i\)</span> in the system
(units: g <span class="math notranslate nohighlight">\(i\)</span>/time), and <span class="math notranslate nohighlight">\(dm_{i}/dt\)</span> denotes the rate of accumlation of mass of component <span class="math notranslate nohighlight">\(i\)</span> in the system (units: g <span class="math notranslate nohighlight">\(i\)</span>/time).</p>
</section>
</div><!-- When $\mathcal{M}>1$, then we have a _system_ of equations (one for each component in the 
$\mathcal{M}$ component mixture). When $\mathcal{M}$ becomes large, it is much more convient to represent the species mass balance equations in matrix-vector form:

```{math}
\mathbf{C}\dot{\mathbf{m}}+\dot{\mathbf{R}} = \frac{d\mathbf{m}}{dt}
```

where $\mathbf{C}$ denotes the $\mathcal{M}\times\left(\mathcal{M}\cdot\dim\mathcal{S}\right)$ 
_connectivity_ matrix,
$\dot{\mathbf{R}}$ denotes the $\mathcal{M}\times{1}$ vector of generation terms, and $d\mathbf{m}/dt$ 
denotes the $\mathcal{M}\times{1}$ vector of accumulation terms. To make matrix-vector form more 
understandable, let's consider a system with three components $\mathcal{M} = 3$ 
and three streams $\dim{S}=3$.

````{prf:example} Species mass balance 
:label: ex-species-mass-balance-3-3

```{figure} ./figs/Fig-Reactor-Example.pdf
---
height: 200px
name: directive-fig
---
```

Starting materials $A$ (stream 1) and $B$ (stream 2) flow into a chemical reactor. $A$ and $B$ react in the presence of enzyme $E$ to form product $P$. Enzyme $E$ is required for the formation of product $P$. The enzyme $E$ is covalently linked to the reactor, but the linkage is unstable. Thus, enzyme $E$, product $P$ and unreacted starting materials $A$ and $B$ flow can out of the reactor (stream 3). 

Let's write the species mass balance equations in index and matrix-vector form for the production of product $P$. 

* First, let's identify the system and the surroundings. The chemistry is occurring in the reactor, so let's make that the system; everything else will be the surroundings.
 
* Next, let's specify the system dimension; there are three streams, thus our stream set is given by $\mathcal{S}=\left\{1,2,3\right\}$. The are $\mathcal{M} = 4$ chemical components ($A$, $B$, $P$ and $E$).
```` -->
</section>
<section id="open-total-mass-balances">
<h3>Open total mass balances<a class="headerlink" href="#open-total-mass-balances" title="Permalink to this headline">#</a></h3>
<p>Of course, we don’t need to track the individual mass of each chemical compound in a mixture of <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> compounds; instead, we can track the <em>total mass</em> of all <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> components collectively.
This choice gives the <em>open total mass balance</em> (<a class="reference internal" href="#defn-open-total-mass-balance">Definition 5</a>):</p>
<div class="proof definition admonition" id="defn-open-total-mass-balance">
<p class="admonition-title"><span class="caption-number">Definition 5 </span> (Open Total Mass Balance)</p>
<section class="definition-content" id="proof-content">
<p>Let <span class="math notranslate nohighlight">\(m_{i}\)</span> denote the mass of chemical component <span class="math notranslate nohighlight">\(i\)</span> in the system (units: mass e.g., grams g).
Further, denote the number of chemical components in the system we want to track as <span class="math notranslate nohighlight">\(\mathcal{M}\)</span>, and the set of
streams flowing into (or from) the system as <span class="math notranslate nohighlight">\(\mathcal{S}\)</span>, where each stream
<span class="math notranslate nohighlight">\(s\in\mathcal{S}\)</span> has a direction parameter <span class="math notranslate nohighlight">\(\nu_{s}\in\left[-1,1\right]\)</span>.</p>
<p>If stream <span class="math notranslate nohighlight">\(s\)</span> <em>enters</em> the system <span class="math notranslate nohighlight">\(\nu_{s} = +1\)</span>, however, if stream <span class="math notranslate nohighlight">\(s\)</span> <em>exits</em> the system then <span class="math notranslate nohighlight">\(\nu_{s} = -1\)</span>.</p>
<p>Then, the total mass of all chemical components in the system as a function of time (units: g) is described by an <em>open total mass balance equation</em>:</p>
<div class="math notranslate nohighlight">
\[\sum_{s\in\mathcal{S}}\nu_{s}\dot{m}_{s,T} = \frac{dm_{T}}{dt}\]</div>
<p>The quantity <span class="math notranslate nohighlight">\(\dot{m}_{s,T}\)</span> denotes the <em>total</em> mass flow rate of stream <span class="math notranslate nohighlight">\(s\)</span> (units: g/time),
and <span class="math notranslate nohighlight">\(dm_{T}/dt\)</span> denotes the rate of accumlation of total mass in the system (units: g/time).</p>
</section>
</div><p>To go from a species perspective i.e., where we track the mass of each chemical component in a
mixture of <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> components, to the total mass balance we use the <a class="reference external" href="https://en.wikipedia.org/wiki/Conservation_of_mass">Law of Conservation of Mass</a>. The <a class="reference external" href="https://en.wikipedia.org/wiki/Conservation_of_mass">Law of Conservation of Mass</a> says that mass can neither be created nor destroyed, just rearranged or transformed.</p>
<div class="proof observation admonition" id="observation-2">
<p class="admonition-title"><span class="caption-number">Observation 2 </span> (Total Mass Balance using the Law of Conservation of Mass)</p>
<section class="observation-content" id="proof-content">
<p>Suppose we have a system with <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> chemical components. Further suppose we write a species balance around
<em>each</em> of the <span class="math notranslate nohighlight">\(i=1,2,\dots,\mathcal{M}\)</span> components:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
\sum_{s\in\mathcal{S}}\nu_{s}\dot{m}_{s,1} + \dot{m}_{G,1} &amp;=&amp; \frac{dm_{1}}{dt}\\
&amp; \vdots &amp; \\
\sum_{s\in\mathcal{S}}\nu_{s}\dot{m}_{s,\mathcal{M}} + \dot{m}_{G,\mathcal{M}} &amp;=&amp; \frac{dm_{\mathcal{M}}}{dt}\\
\end{eqnarray}\end{split}\]</div>
<p>Then, we can <em>sum</em> the <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> species mass balances to arrive at the total mass balance equation i.e., we take advantage of the summation relationship(s):</p>
<div class="math notranslate nohighlight" id="equation-eqn-total-mass-sum-rule">
<span class="eqno">(6)<a class="headerlink" href="#equation-eqn-total-mass-sum-rule" title="Permalink to this equation">#</a></span>\[m_{T} = \sum_{i=1}^{\mathcal{M}}m_{i}\]</div>
<p>and</p>
<div class="math notranslate nohighlight" id="equation-eqn-total-mass-flow-rate">
<span class="eqno">(7)<a class="headerlink" href="#equation-eqn-total-mass-flow-rate" title="Permalink to this equation">#</a></span>\[\dot{m}_{s,T} = \sum_{i=1}^{\mathcal{M}}\dot{m}_{s,i}\]</div>
<p>for some stream <span class="math notranslate nohighlight">\(s\)</span>. Let’s use the summation relationships in Eqn. <a class="reference internal" href="#equation-eqn-total-mass-sum-rule">(6)</a>
and Eqn. <a class="reference internal" href="#equation-eqn-total-mass-flow-rate">(7)</a> to explore each term of the total mass balance:</p>
<ul class="simple">
<li><p><strong>Accumulation terms</strong>: The accumulation term for the total mass balance is simply the time-derivative of the sum of the accumulation terms for each component:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\frac{dm_{T}}{dt} = \frac{d}{dt}\left(\sum_{i=1}^{\mathcal{M}}m_{i}\right)\]</div>
<ul class="simple">
<li><p><strong>Transport terms</strong>: The total mass flow rate in stream <span class="math notranslate nohighlight">\(s\)</span> can be calculated using Eqn. <a class="reference internal" href="#equation-eqn-total-mass-flow-rate">(7)</a>:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\sum_{s\in\mathcal{S}}\nu_{s}\dot{m}_{s,T} = \sum_{s\in\mathcal{S}}\nu_{s}\left(\sum_{i=1}^{\mathcal{M}}\dot{m}_{s,i}\right)\]</div>
<ul class="simple">
<li><p><strong>Generation terms</strong>: There are no generation terms in the total mass balance. However, the Law of Conservation of Mass
says that mass is not created or destroyed, just transformed from one form to another; if we consume
component <span class="math notranslate nohighlight">\(j\)</span>, then the amount of mass consumed must show up in the other components.
Thus, the sum of the individual species mass generation terms must be equal to zero:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\sum_{i=1}^{\mathcal{M}}\dot{m}_{G,i} = 0\]</div>
</section>
</div></section>
</section>
<section id="open-species-and-total-mole-balance-equations">
<span id="content-references-open-species-mole-balances"></span><h2>Open Species and Total Mole Balance Equations<a class="headerlink" href="#open-species-and-total-mole-balance-equations" title="Permalink to this headline">#</a></h2>
<p>Mass-based units are generally convenient for systems that do not involve chemical reactions.
However, it is often easier to use mole-based units when chemical reactions occur.
The principles of mole-based balance equations are similar to their mass-based equivalents, i.e., we can write species mole balances or total mole balances, and they play an equivalent role as their
mass-based equivalents.</p>
<p>However, there is one key exception between a mass and mole description of the material in a system: moles are <em>NOT</em> conserved; thus, there is <em>NO Law of the Conservation of Moles</em>.</p>
<section id="open-species-mole-balances">
<h3>Open species mole balances<a class="headerlink" href="#open-species-mole-balances" title="Permalink to this headline">#</a></h3>
<p>If we are interested in the number of moles of each chemical species, we can write the <em>open species mole balance</em>
(<a class="reference internal" href="#defn-open-species-mole-balance">Definition 6</a>):</p>
<div class="proof definition admonition" id="defn-open-species-mole-balance">
<p class="admonition-title"><span class="caption-number">Definition 6 </span> (Open Species Mole Balance)</p>
<section class="definition-content" id="proof-content">
<p>Let <span class="math notranslate nohighlight">\(m_{i}\)</span> denote the number of moles of chemical component <span class="math notranslate nohighlight">\(i\)</span> in the system
(units: <span class="math notranslate nohighlight">\(\star\)</span>moles, e.g., mmol or  <span class="math notranslate nohighlight">\(\mu\)</span>mol).
Further, denote the number of chemical components in the system we want to track as <span class="math notranslate nohighlight">\(\mathcal{M}\)</span>, and the set of
streams flowing into (or from) the system as <span class="math notranslate nohighlight">\(\mathcal{S}\)</span>, where each stream
<span class="math notranslate nohighlight">\(s\in\mathcal{S}\)</span> has a direction parameter <span class="math notranslate nohighlight">\(\nu_{s}\in\left[-1,1\right]\)</span>.</p>
<p>If stream <span class="math notranslate nohighlight">\(s\)</span> <em>enters</em> the system <span class="math notranslate nohighlight">\(\nu_{s} = +1\)</span>, however is stream <span class="math notranslate nohighlight">\(s\)</span> <em>exits</em> the system then <span class="math notranslate nohighlight">\(\nu_{s} = -1\)</span>.</p>
<p>Then, the number of moles of chemical component <span class="math notranslate nohighlight">\(i\)</span> in the system as a function of time is described by an
<em>open species mass balance equation</em>:</p>
<div class="math notranslate nohighlight">
\[\sum_{s\in\mathcal{S}}\nu_{s}\dot{n}_{s,i} + \dot{n}_{G,i} = \frac{dn_{i}}{dt}
\qquad{i=1,2,\dots,\mathcal{M}}\]</div>
<p>The quantity <span class="math notranslate nohighlight">\(\dot{n}_{s,i}\)</span> denotes the mole flow rate of component <span class="math notranslate nohighlight">\(i\)</span> in stream <span class="math notranslate nohighlight">\(s\)</span> (units: <span class="math notranslate nohighlight">\(\star\)</span>mol <span class="math notranslate nohighlight">\(i\)</span>/time),
<span class="math notranslate nohighlight">\(\dot{n}_{gen,i}\)</span> denote the rate of generation of component <span class="math notranslate nohighlight">\(i\)</span> in the system
(units: <span class="math notranslate nohighlight">\(\star\)</span>mol <span class="math notranslate nohighlight">\(i\)</span>/time), and <span class="math notranslate nohighlight">\(dn_{i}/dt\)</span> denotes the rate of accumlation of the number of moles of component <span class="math notranslate nohighlight">\(i\)</span> in the system (units: <span class="math notranslate nohighlight">\(\star\)</span>mol <span class="math notranslate nohighlight">\(i\)</span>/time). Notice, that unlike the total mass balance, the generation terms do
not vanish in the total mole balance.</p>
</section>
</div></section>
<section id="open-total-mole-balances">
<h3>Open total mole balances<a class="headerlink" href="#open-total-mole-balances" title="Permalink to this headline">#</a></h3>
<p>Of course, if we don’t need to track the individual number of moles of each chemical compound in an <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> mixture, we can track the <em>total number of moles</em> of all <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> components collectively.
This choice gives the <em>open total mole balance</em> (<a class="reference internal" href="#defn-open-total-mole-balance">Definition 7</a>):</p>
<div class="proof definition admonition" id="defn-open-total-mole-balance">
<p class="admonition-title"><span class="caption-number">Definition 7 </span> (Open Total Mole Balance)</p>
<section class="definition-content" id="proof-content">
<p>Let <span class="math notranslate nohighlight">\(n_{i}\)</span> denote the number of moles of chemical component <span class="math notranslate nohighlight">\(i\)</span> in the system (units: <span class="math notranslate nohighlight">\(\star\)</span>mol e.g., <span class="math notranslate nohighlight">\(\mu\)</span>mol or mmol, etc). Further, denote the number of chemical components in the system we want to track as <span class="math notranslate nohighlight">\(\mathcal{M}\)</span>, and the set of streams flowing into (or from) the system as <span class="math notranslate nohighlight">\(\mathcal{S}\)</span>, where each stream
<span class="math notranslate nohighlight">\(s\in\mathcal{S}\)</span> has a direction parameter <span class="math notranslate nohighlight">\(\nu_{s}\in\left[-1,1\right]\)</span>.</p>
<p>If stream <span class="math notranslate nohighlight">\(s\)</span> <em>enters</em> the system <span class="math notranslate nohighlight">\(\nu_{s} = +1\)</span>, however, if stream <span class="math notranslate nohighlight">\(s\)</span> <em>exits</em> the system then <span class="math notranslate nohighlight">\(\nu_{s} = -1\)</span>.</p>
<p>Then, the total number of moles of all chemical components in the system as a function of time
is described by an <em>open total mole balance equation</em>:</p>
<div class="math notranslate nohighlight">
\[\sum_{s\in\mathcal{S}}\nu_{s}\dot{n}_{s,T} +\dot{n}_{G,T} = \frac{dn_{T}}{dt}\]</div>
<p>The quantity <span class="math notranslate nohighlight">\(\dot{n}_{s,T}\)</span> denotes the <em>total</em> mole flow rate of stream <span class="math notranslate nohighlight">\(s\)</span> (units: <span class="math notranslate nohighlight">\(\star\)</span>mol/time),
<span class="math notranslate nohighlight">\(\dot{n}_{gen,T}\)</span> denotes the total generation rate (units: <span class="math notranslate nohighlight">\(\star\)</span>mol/time),
and <span class="math notranslate nohighlight">\(dn_{T}/dt\)</span> denotes the rate of accumlation of total moles in the system (units: <span class="math notranslate nohighlight">\(\star\)</span>mol/time).</p>
</section>
</div><p>To go from a species perspective i.e., where we track the moles of each chemical component in a
mixture of <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> components, to the total mole balance we sum the species mole balances.
However, unlike the mass frame of reference, <strong>moles are not conserved</strong>; thus, the sum of the
generation terms in not zero.</p>
<div class="proof observation admonition" id="observation-5">
<p class="admonition-title"><span class="caption-number">Observation 3 </span> (Total Mole Balances)</p>
<section class="observation-content" id="proof-content">
<p>Suppose we have a system with <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> chemical components. Further suppose we write a species mole balance around
<em>each</em> of the <span class="math notranslate nohighlight">\(i=1,2,\dots,\mathcal{M}\)</span> components:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
\sum_{s\in\mathcal{S}}\nu_{s}\dot{n}_{s,1} + \dot{n}_{G,1} &amp;=&amp; \frac{dn_{1}}{dt}\\
&amp; \vdots &amp; \\
\sum_{s\in\mathcal{S}}\nu_{s}\dot{n}_{s,\mathcal{M}} + \dot{n}_{G,\mathcal{M}} &amp;=&amp; \frac{dn_{\mathcal{M}}}{dt}\\
\end{eqnarray}\end{split}\]</div>
<p>Then, we can <em>sum</em> the <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> species mole balances to arrive at the total mole balance equation i.e., we take advantage of the summation relationship(s):</p>
<div class="math notranslate nohighlight" id="equation-eqn-total-mole-sum-rule">
<span class="eqno">(8)<a class="headerlink" href="#equation-eqn-total-mole-sum-rule" title="Permalink to this equation">#</a></span>\[n_{T} = \sum_{i=1}^{\mathcal{M}}n_{i}\]</div>
<p>and</p>
<div class="math notranslate nohighlight" id="equation-eqn-total-mole-flow-rate">
<span class="eqno">(9)<a class="headerlink" href="#equation-eqn-total-mole-flow-rate" title="Permalink to this equation">#</a></span>\[\dot{n}_{s,T} = \sum_{i=1}^{\mathcal{M}}\dot{n}_{s,i}\]</div>
<p>for some stream <span class="math notranslate nohighlight">\(s\)</span>. Let’s use the summation relationships in Eqn. <a class="reference internal" href="#equation-eqn-total-mole-sum-rule">(8)</a>
and Eqn. <a class="reference internal" href="#equation-eqn-total-mole-flow-rate">(9)</a> to explore each term of the total mole balance:</p>
<ul class="simple">
<li><p><strong>Accumulation terms</strong>: The accumulation term for the total mole balance is simply the sum of time-derivatives of the the accumulation terms of each component:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\frac{dn_{T}}{dt} = \frac{d}{dt}\left(\sum_{i=1}^{\mathcal{M}}n_{i}\right)\]</div>
<ul class="simple">
<li><p><strong>Transport terms</strong>: The total mole flow rate in stream <span class="math notranslate nohighlight">\(s\)</span> can be calculated using Eqn. <a class="reference internal" href="#equation-eqn-total-mole-flow-rate">(9)</a>:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\sum_{s\in\mathcal{S}}\nu_{s}\dot{n}_{s,T} = \sum_{s\in\mathcal{S}}\nu_{s}\left(\sum_{i=1}^{\mathcal{M}}\dot{n}_{s,i}\right)\]</div>
<ul class="simple">
<li><p><strong>Generation terms</strong>:
Unlike the total mass balance, there are generation terms in the total mole balance (becuase moles are not conserved):</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\dot{n}_{G,T} = \sum_{i=1}^{\mathcal{M}}\dot{n}_{G,i}\]</div>
</section>
</div></section>
</section>
<hr class="docutils" />
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">#</a></h2>
<p>In this lecture, we introduced open mass and mole balances. These equations can be used to describe the
amount of <em>material</em> in a system; thus, they are often collectively called material balances.</p>
<ul class="simple">
<li><p>We first introduced species mass balances that can be used to account for the mass of species
<span class="math notranslate nohighlight">\(i=1,2,\dots,\mathcal{M}\)</span> in a mixture of <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> species.</p></li>
<li><p>Next, we used the <a class="reference external" href="https://en.wikipedia.org/wiki/Conservation_of_mass">Law of Conservation of Mass</a> to compute a total mass balance equation, which is the sum of the species mass balances. Because of the conservation of
mass principle, the species generation terms must sum to zero when in the mass frame of reference.</p></li>
<li><p>We then introduced total and species mole balances. We use these equations to track the number of moles
in a system, either at the individual level of the <span class="math notranslate nohighlight">\(i=1,2,\dots,\mathcal{M}\)</span> chemical components in a mixture of <span class="math notranslate nohighlight">\(\mathcal{M}\)</span> species or the total number of moles.</p></li>
</ul>
<!-- The input and output terms describe the rate of transport (convective or conductive) into and from the system.
Inside the system, we could also imagine there is some process in which stuff 
is being created or destroyed; these terms are called generation terms. 
Lastly, stuff can accumulate or be depleted over time in the system; accumulation or depletion is described by accumulation terms. 
Putting these four types of terms together gives the continuous total stuff balance equation:  



### Input and output terms
The summation (the $\sum\star$ symbol) in the continuous total \textit{stuff} balance equation Eqn \eqref{eqn-total-stuff}:

$$ \sum_{s~=~1}^{\mathcal{S}}v_{s}\dot{x}_{s} $$

describes the net rate of stuff flowing into and from the system, where $v_{s}$ is a direction parameter, 
and the subscript $s$ denotes the stream index.  

### Generation terms:
The term $\dot{x}_{gen}$ in Eqn \eqref{eqn-total-stuff} describes the rate of stuff generation inside the system.
The generation of stuff inside the system is used to describe chemical reactions, heat sources or sinks or other abstract
quantities such as interest or the return on an investment. 

### Accumulation terms:
On the right hand side of Eqn \eqref{eqn-total-stuff} we have the $dx/dt$ or accumulation terms.
These terms describe rate of stuff accumulation inside the system. Often we'll consider a 
special case in which the inputs, outputs and generation terms are balanced and not changing in time.
This special case is called a steady-state, in a steady-state all accumulation terms are equal to 0.   --></section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapter-1-dir"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="stuff-balances.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Systems, Surroundings and Balance Equations</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="energy-balances.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Energy Balances</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Jeffrey D. Varner<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>